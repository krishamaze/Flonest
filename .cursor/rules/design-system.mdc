description: UI / UX DESIGN SYSTEM. Apply for UI components, CSS, Tailwind, tokens, layout, spacing, typography, accessibility, color, theming, responsiveness, headers, metrics, icons, quick actions, visual hierarchy, identity navigation, sheet motion, or when user mentions visual issues like "ugly", "misaligned", "wrong color", "mobile broken".
alwaysApply: false
globs: ["**/*.css", "**/*.tsx", "**/*.ts", "**/components/**", "**/styles/**"]
lastReviewed: 2025-11-20
# Design System & UI Patterns

## CRITICAL: Design Token Usage

### Mandatory Rules
- **NEVER** use hardcoded colors. ALWAYS use CSS variables.
- **NEVER** use hardcoded spacing. ALWAYS use spacing variables.
- **NEVER** use inline styles unless for dynamic, JS-driven values.
- **NEVER** use `px` values directly. Use design token variables.

## Design Tokens Reference

#### Brand Colors
```css
/* Primary: Gold/Yellow */
--color-primary: #E2C33D;
--color-primary-hover: #D4B635;
--color-primary-light: #F5E9A8;
--color-primary-dark: #C4A52E;

/* Secondary: Dark Slate */
--color-secondary: #1F2937;
--color-secondary-hover: #374151;
--color-secondary-light: #4B5563;

/* Semantic Colors */
--color-success: #10B981;
--color-warning: #F59E0B;
--color-error: #EF4444;

/* Neutral Scale */
--color-neutral-50: #F5F7FA;
--color-neutral-100: #E5E7EB;
--color-neutral-200: #D1D5DB;
--color-neutral-300: #9CA3AF;
--color-neutral-400: #6B7280;
--color-neutral-500: #4B5563;
--color-neutral-600: #374151;
--color-neutral-700: #1F2937;
--color-neutral-800: #111827;
--color-neutral-900: #000000;

/* Text & Background */
--text-primary: var(--color-neutral-900);
--text-secondary: var(--color-neutral-600);
--text-on-primary: #000000;
--bg-page: var(--color-neutral-50);
--bg-card: #FFFFFF;
```

#### Spacing & Sizing (8pt Grid)
```css
--spacing-xs: 4px;
--spacing-sm: 8px;
--spacing-md: 16px;
--spacing-lg: 24px;
--spacing-xl: 32px;
--spacing-2xl: 48px;
--spacing-3xl: 64px;
```

#### Typography
```css
--font-primary: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
--font-mono: 'Courier New', monospace;
--font-size-base: 16px;
--font-size-lg: 18px;
--font-size-xl: 20px;
--font-size-2xl: 24px;
--font-size-3xl: 32px;
--font-weight-normal: 400;
--font-weight-medium: 500;
--font-weight-bold: 700;
--line-height-normal: 1.5;
```

#### Borders & Shadows
```css
--radius-sm: 4px;
--radius-md: 8px;
--radius-lg: 12px;
--radius-full: 9999px;
--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
--shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
--shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
--border-width: 1px;
--border-color: var(--color-neutral-200);
```

## UI Pattern Library

### Design Philosophy
- **Information-dense but scannable**: Pack features without clutter.
- **Card-based layouts**: Group related content in elevated cards.
- **Icon-driven navigation**: Visual icons with labels for clarity.
- **Bold CTAs**: Primary actions are unmissable.

### Identity & Navigation Architecture
- **Identity Hub Split**: The Identity Hub is separated into distinct logical components:
  1.  `IdentityHubSheet`: Manages User Identity flow.
  2.  `ContextSheet`: Manages Context Switching (Orgs/Roles).
  3.  `BusinessSetupFlow`: Manages the Setup wizard.
- **Rule**: Setup logic is **BANNED** from sheets. It must exist in its own flow.

### Motion & Interaction
- **Sheet Motion**: Identity and Context sheets MUST use:
  -   Animation: `slide-up`
  -   Duration: `motion-duration-medium` (300ms)
  -   Ease: `motion-ease-out`
  -   Why: Consistently smooth entrance/exit for modal interactions.

### Dashboard: Metric Cards (3-column grid)

**Visual Hierarchy (DO):**
- **Counts (Primary Data):** Use `text-3xl font-bold` to prioritize numerical data
- **Labels (Secondary Data):** Use `text-xs font-normal` for descriptive text
- **NO vertical separators:** Rely on horizontal padding and white space for visual separation (hyper-minimalist approach)

```css
.dashboard-metrics {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--spacing-md);
  /* NO divide-x - minimalist approach */
}
.metric-card {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border-color);
}
.metric-card-value {
  font-size: var(--font-size-3xl);  /* Large, bold for counts */
  font-weight: var(--font-weight-bold);
}
.metric-card-label {
  font-size: var(--font-size-xs);  /* Small, normal for labels */
  font-weight: var(--font-weight-normal);
}
```

### Lists: Transaction Pattern
```css
.transaction-list {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
}
.transaction-item {
  padding: var(--spacing-md);
  border-bottom: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}
```

### Navigation: Bottom Tab Bar
```css
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--bg-card);
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: space-around;
}
.bottom-nav-item.active {
  color: var(--color-primary);
}
```

### Header & Layout (DO / DO NOT)

**Header Background:**
- **DO:** Use white background (`bg-white`) to reduce visual weight
- **DO NOT:** Use yellow/brand color as header background
- **DO:** Reserve brand yellow for accent elements (active states, notification badges, hover states)

**Quick Action Icons:**
- **Container Size:** `h-10 w-10` (reduced from `h-12 w-12`)
- **Icon Size:** `h-5 w-5` (reduced from `h-6 w-6`)
- **Text Size:** `text-[10px]` (reduced from `text-[11px]`)
- **Minimum Width:** `64px` (reduced from `72px`) to improve information density and reduce horizontal scrolling

**Icon Stroke Width (DO):**
- **Standardize:** All icons use consistent stroke width `strokeWidth={1.5}` across quick actions and bottom navigation for cohesive visual style

## Related Rules
- `@learned-rules.mdc` — Reinforces DRY patterns and code quality expectations for UI components.
- `@performance.mdc` — Covers React state optimizations, scrolling, and gesture performance for these designs.
- `@deployment.mdc` — Notes build/update workflows that impact how styles reach production users.
